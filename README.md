# TypeScript リファクタリング演習問題集

新人向けのTypeScript講習用の演習問題集です。実務でよく見られるアンチパターンを題材に、リファクタリングを通じてコーディング力を向上させることを目的としています。

## 対象者

- **Java**: 中級レベル（Java Gold取得済み）
- **JavaScript**: 初級レベル
- **TypeScript**: 未経験または初心者

## 演習問題一覧

### 01. 注文管理システム

**難易度**: ⭐️⭐️☆☆☆

注文管理システムのコードに含まれる問題を解決します。

- **学べること**:
  - 定数の適切な定義
  - `enum`の活用
  - 可読性の向上

📁 [`01-order-system/`](./01-order-system/)

---

### 02. 通知システム

**難易度**: ⭐️⭐️⭐️⭐️☆

通知システムの実装に含まれる問題を解決します。

- **学べること**:
  - インターフェースによる抽象化
  - 依存性注入（DI）
  - デザインパターン（ストラテジー、ファクトリー）
  - SOLID原則

📁 [`02-notification-system/`](./02-notification-system/)

---

### 03. 注文サービス

**難易度**: ⭐️⭐️⭐️⭐️☆

注文処理サービスの実装に含まれる問題を解決します。

- **学べること**:
  - 巨大な関数の分割
  - 単一責任の原則
  - 依存性注入
  - サービス層の設計
  - リポジトリパターン

📁 [`03-order-service/`](./03-order-service/)

---

### 04. バリデーションシステム

**難易度**: ⭐️⭐️⭐️☆☆

ユーザー管理システムのバリデーション処理に含まれる問題を解決します。

- **学べること**:
  - DRY原則（Don't Repeat Yourself）
  - ジェネリクスの活用
  - ファクトリーパターン
  - 関数の抽象化

📁 [`04-validation-system/`](./04-validation-system/)

---

### 05. ファイルとAPIサービス

**難易度**: ⭐️⭐️⭐️⭐️☆

ファイル処理とAPI呼び出しを行うサービスに含まれる問題を解決します。

- **学べること**:
  - try-catchの適切な使用
  - カスタムエラークラス
  - Result型パターン
  - ロギング
  - リトライ処理

📁 [`05-file-api-service/`](./05-file-api-service/)

---

### 06. レポートジェネレーター

**難易度**: ⭐️⭐️⭐️☆☆

レポート生成システムの実装に含まれる問題を解決します。

- **学べること**:
  - オブジェクトの参照と値の違い
  - シャローコピーとディープコピー
  - ファクトリーメソッドパターン
  - イミュータビリティ
  - 関数型プログラミング

📁 [`06-report-generator/`](./06-report-generator/)

---

### 07. 注文プロセッサー

**難易度**: ⭐️⭐️⭐️☆☆

ECサイトの注文処理システムに含まれる問題を解決します。

- **学べること**:
  - ガード節（Early Return）
  - 関数の分割
  - 例外を使ったエラーハンドリング
  - 単一責任の原則

📁 [`07-order-processor/`](./07-order-processor/)

---

### 08. 請求書プロセッサー

**難易度**: ⭐️⭐️⭐️⭐️☆

請求書処理システムの実装に含まれる問題を解決します。

- **学べること**:
  - 極端に深いネストの解消
  - ガード句（Early Return）
  - ストラテジーパターン
  - ルックアップテーブル
  - 循環的複雑度の削減

📁 [`08-invoice-processor/`](./08-invoice-processor/)

---

### 19. APIクライアント

**難易度**: ⭐️⭐️⭐️⭐️☆

APIクライアントの実装に含まれる問題を解決します。

- **学べること**:
  - ジェネリクスの活用
  - Utility Typesの使い方
  - 型ガード
  - API型定義のベストプラクティス

📁 [`19-api-client/`](./19-api-client/)

---

### 26. ECドメインモデル

**難易度**: ⭐️⭐️⭐️⭐️⭐️

ECサイトのドメインモデルに含まれる問題を解決します。

- **学べること**:
  - Branded Type（名目的型付け）
  - ドメイン駆動設計（DDD）
  - 型による安全性の向上
  - ビジネスロジックの型表現

📁 [`26-ecommerce-domain/`](./26-ecommerce-domain/)

---

## 各問題の構成

各ディレクトリには以下のファイルが含まれています：

```
XX-problem-name/
├── 問題.ts          # リファクタリング対象のコード
├── ヒント.md        # 問題点と改善のポイント
└── 回答例.md        # リファクタリング後のコードと解説
```

## 取り組み方

### 1. まず自分で考える（推奨時間: 10-15分）

1. `問題.ts` を読む
2. どこに問題があるか考える
3. どう改善できるか考える

### 2. ヒントを見る

1. `ヒント.md` を開く
2. 問題点を確認
3. 改善のポイントを理解

### 3. 実装してみる（推奨時間: 30-60分）

1. 実際にコードをリファクタリング
2. TypeScriptのコンパイルエラーを確認
3. 動作を確認

### 4. 回答例と比較する

1. `回答例.md` を開く
2. 自分の実装と比較
3. さらなる改善案を学ぶ

### 5. 理解を深める

1. なぜその改善が必要だったのか考える
2. 実務でどう活かせるか考える
3. 他の問題にも応用できるか考える

## 学習の進め方

### 初心者向け

難易度順に取り組むことをお勧めします：

1. ⭐️⭐️☆☆☆ → 01. 注文管理システム
2. ⭐️⭐️⭐️☆☆ → 04. バリデーションシステム、06. レポートジェネレーター、07. 注文プロセッサー
3. ⭐️⭐️⭐️⭐️☆ → 02. 通知システム、03. 注文サービス、05. ファイルとAPIサービス、08. 請求書プロセッサー、19. APIクライアント
4. ⭐️⭐️⭐️⭐️⭐️ → 26. ECドメインモデル

### 中級者向け

興味のあるテーマから取り組んでください。特に以下がお勧めです：

- デザインパターンを学びたい → 02. 通知システム、08. 請求書プロセッサー
- 関数分割と設計を学びたい → 03. 注文サービス
- JavaScriptの基礎を学びたい → 06. レポートジェネレーター（参照型の理解）
- TypeScriptの型を深く学びたい → 19. APIクライアント、26. ECドメインモデル
- エラーハンドリングを学びたい → 05. ファイルとAPIサービス

## 補足資料

### 参考となる設計原則

- **SOLID原則**
  - Single Responsibility Principle（単一責任の原則）
  - Open/Closed Principle（オープン・クローズドの原則）
  - Liskov Substitution Principle（リスコフの置換原則）
  - Interface Segregation Principle（インターフェース分離の原則）
  - Dependency Inversion Principle（依存性逆転の原則）

- **DRY原則**（Don't Repeat Yourself）
- **KISS原則**（Keep It Simple, Stupid）
- **YAGNI原則**（You Aren't Gonna Need It）

### TypeScript特有のパターン

- Branded Type（名目的型付け）
- Utility Types（`Partial`, `Pick`, `Omit`, `Required`など）
- Discriminated Union
- Type Guard
- Generics

### デザインパターン

- ファクトリーパターン
- ストラテジーパターン
- リポジトリパターン
- ビルダーパターン
- サーキットブレーカーパターン

## フィードバック

この演習問題集について、フィードバックや改善提案があれば歓迎します。

## ライセンス

教育目的での使用を想定しています。

---

**Happy Coding! 🚀**
